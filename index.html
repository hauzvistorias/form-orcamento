<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HauZ Vistorias - Orçamento</title>

<style>
    body { font-family: Arial, sans-serif; margin: 10px; }
    label { display: block; margin-top: 10px; }
    input[type="number"] { width: 100px; }
    .checkbox-group { margin-left: 10px; }
    #resultado { margin-top: 20px; font-weight: bold; font-size: 1.2em; }
    .aviso { margin-top: 10px; font-size: 0.9em; color: green; font-weight: bold; }
</style>
</head>

<body>

<div style="text-align:center; margin-bottom:10px;">
    <img src="jpg_02.jpg" alt="Logotipo" style="max-width:200px; height:auto; display:block; margin:0 auto;">
    <h2 style="margin:5px 0 0 0;">ORÇAMENTO DE VISTORIA IMOBILIÁRIA</h2>
    <div style="font-size:0.85em; font-style:italic; margin-top:4px;">
        Valores válidos a partir de 01/02/2026
    </div>
</div>

<form id="vistoriaForm">

    <label>Tipo de vistoria:
        <select id="tipoVistoria">
            <option value="entrada" selected>Entrada</option>
            <option value="saida">Saída</option>
            <option value="outro">Outro</option>
        </select>
    </label>

    <label>Tipo de imóvel:
        <select id="tipoImovel" required>
            <option value="" disabled selected>--- Selecione o tipo ---</option>
            <option value="casa-terrea">Casa Térrea</option>
            <option value="sobrado">Sobrado</option>
            <option value="apartamento">Apartamento</option>
            <option value="galpao">Galpão</option>
            <option value="kitinete">Kitinete / Sala Comercial</option>
        </select>
    </label>

    <label>Área construída (m²):
        <input type="number" id="areaConstruida" min="1" required>
    </label>

    <label>Área do terreno (m²):
        <input type="number" id="areaTerreno" min="0">
    </label>

    <label>Mobiliário (marque pelo menos 1):</label>
    <div class="checkbox-group">
        <label><input type="checkbox" class="mobiliario" value="1"> 1. Nenhum/planejados cozinha e banheiros</label>
        <label><input type="checkbox" class="mobiliario" value="2"> 2. Planejados dormitórios/outros ambientes</label>
        <label><input type="checkbox" class="mobiliario" value="3"> 3. Eletros (geladeira, fogão, forno, máq. lavar, etc.)</label>
        <label><input type="checkbox" class="mobiliario" value="4"> 4. Móveis soltos - mesas, cadeiras, sofá, poltrona</label>
        <label><input type="checkbox" class="mobiliario" value="5"> 5. Móveis soltos - camas, mesa de cabeceira</label>
        <label><input type="checkbox" class="mobiliario" value="6"> 6. Inventário - louças, talheres, objetos decorativos, eletrodomésticos pequenos, etc</label>
    </div>

    <label>Cidade:
        <select id="cidade" required>
            <option value="Itu" selected>Itu</option>
            <option value="Salto">Salto</option>
            <option value="Indaiatuba">Indaiatuba</option>
            <option value="Sorocaba">Sorocaba</option>
            <option value="outra">Outra</option>
        </select>
    </label>

</form>

<label>Data desejada para a vistoria:
    <input type="date" id="dataVistoria">
</label>

<div id="resultado">Valor estimado: R$ 0,00</div>

<div class="aviso">
    Se o orçamento da vistoria ultrapassar o valor de 1 mês da administração da locação entre em contato, vamos conversar!
</div>

<button id="enviarWhatsapp" type="button" style="margin-top:10px;">
    Enviar via WhatsApp
</button>

<script>
const form = document.getElementById('vistoriaForm');
const resultado = document.getElementById('resultado');

form.addEventListener('change', calcular);

function calcular() {

    const tipoImovel = document.getElementById('tipoImovel').value;
    const cidadeSel = document.getElementById('cidade').value;

    const areaReal = parseFloat(document.getElementById('areaConstruida').value) || 0;
    const areaMin = 65;
    const areaCalc = Math.max(areaReal, areaMin);

    const areaTerreno = parseFloat(document.getElementById('areaTerreno').value) || 0;

    if (!tipoImovel) {
        resultado.textContent = 'Selecione o tipo de imóvel.';
        return;
    }

    const checkboxes = document.querySelectorAll('.mobiliario:checked');
    if (checkboxes.length === 0) {
        resultado.textContent = 'Marque pelo menos 1 opção de mobiliário.';
        return;
    }

    /* Fator cidade */
    let fatorCidade = 0;
    let mensagemExtra = '';

    switch (cidadeSel) {
        case 'Salto': fatorCidade = 30; break;
        case 'Indaiatuba': fatorCidade = 70; break;
        case 'Sorocaba': fatorCidade = 80; break;
        case 'outra':
            mensagemExtra = ' | Entrar em contato para confirmar valor';
            break;
    }

    /* Galpão */
    if (tipoImovel === 'galpao') {
        resultado.textContent = 'Para galpões, favor entrar em contato para orçamento.';
        return;
    }

    /* Kitinete */
    if (tipoImovel === 'kitinete') {
        let valor = 100;
        checkboxes.forEach(cb => {
            if (['3','4','5'].includes(cb.value)) valor += 10;
        });
        valor += fatorCidade;
        resultado.textContent = `Valor estimado: ${valor.toLocaleString('pt-BR',{style:'currency',currency:'BRL'})}`;
        return;
    }

    /* m2 base */
    let m2base = 1.40;

    checkboxes.forEach(cb => {
        if (['2','3','4','5'].includes(cb.value)) m2base += 0.15;
        if (cb.value === '6') mensagemExtra += ' | Inventário será orçado à parte';
    });

    if (areaReal >= 301 && areaReal <= 500) m2base *= 0.9;
    if (areaReal >= 501) m2base *= 0.8;

    /* Valores */
    let valorAreaConstruida = m2base * (65 + (areaCalc - 65));
    let valorAreaExterna = 0;

    if (tipoImovel === 'casa-terrea') {
        valorAreaExterna = Math.max(0, areaTerreno - areaReal) * (m2base * 0.3);
    }

    if (tipoImovel === 'sobrado') {
        valorAreaExterna = Math.max(0, areaTerreno - (0.6 * areaReal)) * (m2base * 0.3);
    }

    let valor = 49 + valorAreaConstruida + valorAreaExterna + fatorCidade;
    valor = Math.ceil(valor / 5) * 5;

    resultado.textContent =
        `Valor estimado: ${valor.toLocaleString('pt-BR',{style:'currency',currency:'BRL'})}${mensagemExtra}`;
}

document.getElementById('enviarWhatsapp').addEventListener('click', () => {

    const valorOrcamento = document
        .getElementById('resultado')
        .textContent
        .replace('Valor estimado: ', '');

    const mensagem = `Orçamento de Vistoria:\n\nValor calculado: *${valorOrcamento}*`;

    window.open(`https://wa.me/5511974697416?text=${encodeURIComponent(mensagem)}`, '_blank');
});
</script>

</body>
</html>
