<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Orçamento de Vistoria Imobiliária</title>
<style>
    body {
        font-family: Arial, sans-serif;
        max-width: 700px;
        margin: auto;
    }
    h1 {
        text-align: center;
    }
    .subtitulo {
        text-align: center;
        font-size: 0.9em;
        font-style: italic;
        margin-top: -10px;
        margin-bottom: 20px;
    }
    label {
        display: block;
        margin-top: 12px;
    }
    input, select {
        width: 100%;
        padding: 6px;
        margin-top: 4px;
    }
    .checkbox-group label {
        display: block;
        margin-top: 6px;
    }
    #resultado {
        margin-top: 20px;
        font-size: 1.2em;
        font-weight: bold;
    }
    .aviso-final {
        margin: 15px 0;
        color: green;
        font-weight: bold;
    }
    button {
        width: 100%;
        padding: 10px;
        font-size: 1em;
        cursor: pointer;
    }
</style>
</head>
<body>

<h1>ORÇAMENTO DE VISTORIA IMOBILIÁRIA</h1>
<div class="subtitulo">Valores válidos a partir de 01/02/2026</div>

<label>Cidade</label>
<select id="cidade" onchange="atualizar()">
    <option value="itu">Itu</option>
    <option value="salto">Salto</option>
    <option value="indaiatuba">Indaiatuba</option>
    <option value="sorocaba">Sorocaba</option>
    <option value="outra">Outra cidade</option>
</select>

<label>Tipo de imóvel</label>
<select id="tipoImovel" onchange="atualizar()">
    <option value="apartamento">Apartamento</option>
    <option value="casa">Casa térrea</option>
    <option value="sobrado">Sobrado</option>
    <option value="kitinete">Kitinete / Sala comercial pequena</option>
    <option value="galpao">Galpão</option>
</select>

<label>Área construída (m²)</label>
<input type="number" id="areaConstruida" min="1" oninput="atualizar()">

<label>Área do terreno (m²)</label>
<input type="number" id="areaTerreno" min="0" oninput="atualizar()">

<div class="checkbox-group">
    <label><strong>Mobiliário</strong></label>
    <label><input type="checkbox" value="1" checked onchange="atualizar()"> 1 (sem móveis)</label>
    <label><input type="checkbox" value="2" onchange="atualizar()"> 2 (cozinha com armários)</label>
    <label><input type="checkbox" value="3" onchange="atualizar()"> 3 (banheiros com gabinetes e boxes)</label>
    <label><input type="checkbox" value="4" onchange="atualizar()"> 4 (quartos com armários)</label>
    <label><input type="checkbox" value="5" onchange="atualizar()"> 5 (outros móveis fixos planejados)</label>
    <label><input type="checkbox" value="6" onchange="atualizar()"> 6 (imóvel totalmente mobiliado – orçamento sob consulta)</label>
</div>

<div id="resultado">Valor estimado: R$ 0</div>

<div class="aviso-final">
Se o orçamento ultrapassar 10% do valor líquido da locação entre em contato, vamos conversar!
</div>

<button onclick="enviarWhatsApp()">Enviar pelo WhatsApp</button>

<script>
function arredondarPara5(valor) {
    return Math.ceil(valor / 5) * 5;
}

function calcularValor() {

    const cidade = document.getElementById("cidade").value;
    const tipo = document.getElementById("tipoImovel").value;
    const areaConstruidaReal = Number(document.getElementById("areaConstruida").value);
    const areaTerreno = Number(document.getElementById("areaTerreno").value);

    if (!areaConstruidaReal) return { valor: 0, aviso: "" };

    // --- CIDADE ---
    let valorCidade = 40;
    let aviso = "";

    if (cidade === "salto") valorCidade = 70;
    if (cidade === "indaiatuba") valorCidade = 140;
    if (cidade === "sorocaba") valorCidade = 150;
    if (cidade === "outra") aviso = " | Entre em contato para confirmar deslocamento";

    // --- M2 BASE ---
    let m2base = 1.40;
    if (areaConstruidaReal >= 301 && areaConstruidaReal <= 500) m2base = 1.30;
    if (areaConstruidaReal >= 501) m2base = 1.20;

    // --- MOBILIÁRIO ---
    const checks = document.querySelectorAll(".checkbox-group input:checked");
    let acrescimos = 0;
    let mobiliario6 = false;

    checks.forEach(c => {
        if (["2","3","4","5"].includes(c.value)) acrescimos += 0.125;
        if (c.value === "6") mobiliario6 = true;
    });

    if (mobiliario6) {
        aviso += " | Mobiliário completo sob consulta";
    } else {
        m2base = m2base * (1 + acrescimos);
    }

    // --- ÁREA PARA CÁLCULO ---
    const areaConstruidaCalc = Math.max(areaConstruidaReal, 70);

    let valor = valorCidade + (m2base * areaConstruidaCalc);

    if (tipo === "casa") {
        valor += (areaTerreno - areaConstruidaReal) * (m2base * 0.3);
    }

    if (tipo === "sobrado") {
        valor += (areaTerreno - (0.6 * areaConstruidaReal)) * (m2base * 0.3);
    }

    if (tipo === "kitinete") {
        valor -= 30;
    }

    if (tipo === "galpao") {
        valor = valorCidade
              + (m2base * areaConstruidaCalc * 0.8)
              + (areaTerreno - areaConstruidaReal) * (m2base * 0.3);
    }

    // --- MÍNIMOS ---
    let minimo = (tipo === "kitinete") ? 110 : 140;
    if (valor < minimo) valor = minimo;

    valor = arredondarPara5(valor);

    return { valor, aviso };
}

function atualizar() {
    const r = calcularValor();
    document.getElementById("resultado").innerText =
        "Valor estimado: R$ " + r.valor + r.aviso;
}

function enviarWhatsApp() {
    const r = calcularValor();
    const msg = encodeURIComponent(
        "Orçamento estimado de vistoria:\nValor: R$ " + r.valor
    );
    window.open("https://wa.me/55SEUNUMEROAQUI?text=" + msg, "_blank");
}
</script>

</body>
</html>
