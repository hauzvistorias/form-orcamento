<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Orçamento Vistoria Imobiliária</title>
<style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    label { display: block; margin-top: 10px; }
    input[type="number"] { width: 100px; }
    .checkbox-group, .radio-group { margin-left: 20px; }
    #resultado { margin-top: 20px; font-weight: bold; font-size: 1.2em; }
</style>
</head>
<body>

<h2>Orçamento de Vistoria Imobiliária</h2>

<form id="vistoriaForm">
    <label>Tipo de vistoria:
    <select name="tipoVistoria" id="tipoVistoria">
        <option value="entrada" selected>Entrada</option>
        <option value="saida">Saída</option>
        <option value="outro">Outro</option>
    </select></label>

    <label>Tipo de imóvel:
    <select name="tipoImovel" id="tipoImovel" required>
        <option value="" disabled selected>--- Selecione o tipo ---</option>
        <option value="casa-terrea">Casa Térrea</option>
        <option value="sobrado">Sobrado</option>
        <option value="apartamento">Apartamento</option>
        <option value="galpao">Galpão</option>
        <option value="kitinete">Kitinete / Sala Comercial</option>
        <option value="outro">Outro</option>
    </select></label>

    <label>Área construída (m²):
        <input type="number" id="areaConstruida" min="1" value="" required>
    </label>

    <label>Área do terreno (m²):
        <input type="number" id="areaTerreno" min="0" value="">
    </label>

    <label>Mobiliário (marque pelo menos 1):</label>
    <div class="checkbox-group">
        <label><input type="checkbox" class="mobiliario" value="1"> 1. Nenhum/planejados cozinha e banheiros</label>
        <label><input type="checkbox" class="mobiliario" value="2"> 2. Planejados dormitórios/outros ambientes</label>
        <label><input type="checkbox" class="mobiliario" value="3"> 3. Eletros grandes</label>
        <label><input type="checkbox" class="mobiliario" value="4"> 4. Móveis soltos - mesas, cadeiras, sofá, poltrona</label>
        <label><input type="checkbox" class="mobiliario" value="5"> 5. Móveis soltos - camas, mesa de cabeceira</label>
        <label><input type="checkbox" class="mobiliario" value="6"> 6. Inventário - louças, talheres, objetos decorativos, eletrodomésticos pequenos, etc</label>
    </div>

    <label>Cidade:
    <select name="cidade" id="cidade" required>
        <option value="Itu" selected>Itu</option>
        <option value="Salto">Salto</option>
        <option value="Indaiatuba">Indaiatuba</option>
        <option value="outra">Outra</option>
    </select></label>
</form>

<div id="resultado">Valor estimado: R$ 0,00</div>

<label for="dataVistoria">Data desejada para a vistoria:
<input type="date" id="dataVistoria" required></label>

<button id="enviarWhatsapp" type="button" style="margin-top:10px;">Enviar via WhatsApp</button>

<script>
// Botão enviar via WhatsApp
document.getElementById('enviarWhatsapp').addEventListener('click', () => {
    const tipoVistoria = document.getElementById('tipoVistoria').value;
    const tipoImovel = document.getElementById('tipoImovel').value;
    const areaConstruida = document.getElementById('areaConstruida').value;
    const areaTerreno = document.getElementById('areaTerreno').value;
    const cidade = document.getElementById('cidade').value;
    const dataVistoria = document.getElementById('dataVistoria').value;

    // Mobiliário selecionado
    const checkboxes = Array.from(document.querySelectorAll('.mobiliario:checked')).map(cb => cb.nextSibling.textContent.trim()).join('; ');

    // Valor do orçamento
    const valorOrcamento = resultado.textContent.replace('Valor estimado: ', '');

    const mensagem = `Orçamento de Vistoria:
Data: ${dataVistoria}
Tipo de vistoria: ${tipoVistoria}
Tipo de imóvel: ${tipoImovel}
Área construída: ${areaConstruida} m²
Área do terreno: ${areaTerreno} m²
Cidade: ${cidade}
Mobiliário: ${checkboxes}
${valorOrcamento}`;

    // Substitua SEUNUMERO pelo seu número no formato internacional, ex: 5511999999999
    window.open(`https://wa.me/5511974697416?text=${encodeURIComponent(mensagem)}`, '_blank');
});
</script>

    
<script>
const form = document.getElementById('vistoriaForm');
const resultado = document.getElementById('resultado');

form.addEventListener('change', calcular);

function calcular() {
    const tipoImovel = document.getElementById('tipoImovel').value;
    const cidade = document.getElementById('cidade').value;
    let areaConstruida = parseFloat(document.getElementById('areaConstruida').value) || 0;
    const areaTerreno = parseFloat(document.getElementById('areaTerreno').value) || 0;

    if(!tipoImovel || !cidade) {
        resultado.textContent = 'Selecione o tipo de imóvel e a cidade.';
        return;
    }

    // Área mínima 80 m²
    if (areaConstruida < 80) areaConstruida = 80;

    // Coeficiente mobiliário
    const checkboxes = document.querySelectorAll('.mobiliario:checked');
    if (checkboxes.length === 0) {
        resultado.textContent = 'Marque pelo menos 1 opção de mobiliário.';
        return;
    }

    let coef = 1.25;
    let inventario = false;
    checkboxes.forEach(cb => {
        if(cb.value == '3') coef += 0.12;
        if(cb.value == '4') coef += 0.11;
        if(cb.value == '5') coef += 0.11;
        if(cb.value == '6') inventario = true;
    });

    let valorConstruida = areaConstruida * coef;

    // Área do terreno
    let valorTerreno = 0;
    if(['casa-terrea','sobrado','galpao','outro'].includes(tipoImovel) && areaTerreno > 0) {
        if(tipoImovel == 'sobrado') {
            valorTerreno = (areaTerreno - (areaConstruida * 0.6)) * 0.40;
        } else {
            valorTerreno = (areaTerreno - areaConstruida) * 0.40;
        }
        if(valorTerreno < 0) valorTerreno = 0;
    }

    let valorTotal = valorConstruida + valorTerreno;

    // Ajuste por cidade
    let mensagemExtra = '';
    if(cidade === 'Salto') valorTotal += 20;
    if(cidade === 'Indaiatuba') valorTotal += 50;
    if(cidade === 'outra') mensagemExtra = ' | Confirmar o valor de deslocamento';

    // Ajuste por tipo de imóvel
    if(tipoImovel === 'kitinete') valorTotal -= 20;

    // Arredondar sempre para cima
    valorTotal = Math.ceil(valorTotal);

    // Formatação R$ 999.999,00
    valorTotal = valorTotal.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL', minimumFractionDigits: 2 });

    let mensagem = `Valor estimado: ${valorTotal}`;
    if(inventario) mensagem += ' | Inventário será orçado à parte';
    if(mensagemExtra) mensagem += mensagemExtra;

    resultado.textContent = mensagem;
}
</script>

</body>
</html>
